---
title: Planlægge sager til at køre automatisk
description: Planlagte sager styres af opgavekøen. Disse sager kører rapporter og kodeenheder. Du kan angive opgaver, der skal køres én gang eller gentagne gange.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 01/12/2021
ms.author: edupont
ms.openlocfilehash: 074a110a4aac42d9b6058e377c45de0c23409bb2
ms.sourcegitcommit: cb06aa973f5c767df774b0e1e199c6fbe0e85b88
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 02/17/2021
ms.locfileid: "5470258"
---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="8d98c-105">Du kan bruge opgavekøer til at planlægge opgaver</span><span class="sxs-lookup"><span data-stu-id="8d98c-105">Use Job Queues to Schedule Tasks</span></span>

<span data-ttu-id="8d98c-106">Opgavekøer i [!INCLUDE[prod_short](includes/prod_short.md)] giver brugerne mulighed for at planlægge og køre specifikke rapporter og kodeenheder.</span><span class="sxs-lookup"><span data-stu-id="8d98c-106">Job queues in [!INCLUDE[prod_short](includes/prod_short.md)] enable users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="8d98c-107">Du kan angive opgaver, der skal køres én gang eller gentagne gange.</span><span class="sxs-lookup"><span data-stu-id="8d98c-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="8d98c-108">Du kan f.eks. køre rapporten **Sælger \* Salgsstatistik** hver uge for at spore salget pr. sælger, eller du kan køre codeunit **Uddeleger godkendelsesanmodninger** dagligt for at forhindre, at dokumenter hober sig op eller på anden måde blokerer for arbejdsprocessen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-108">For example, you might want to run the **Salesperson \* Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Delegate Approval Requests** codeunit daily, to prevent documents from piling up or otherwise block the workflow.</span></span>

<span data-ttu-id="8d98c-109">Siden **Opgavekøposter** viser alle eksisterende sager.</span><span class="sxs-lookup"><span data-stu-id="8d98c-109">The **Job Queue Entries** page lists all existing jobs.</span></span> <span data-ttu-id="8d98c-110">Hvis du tilføjer en ny opgavekøpost, du vil planlægge, skal du angive oplysninger om typen af det objekt, du vil køre, f.eks. en rapport eller kodeenhed, og navnet og objekt-id'et for det objekt, du vil køre.</span><span class="sxs-lookup"><span data-stu-id="8d98c-110">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="8d98c-111">Du kan også tilføje parametre for at angive funktionsmåden for opgavekøposten.</span><span class="sxs-lookup"><span data-stu-id="8d98c-111">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="8d98c-112">Du kan f.eks. tilføje en parameter til kun at sende bogførte salgsordrer.</span><span class="sxs-lookup"><span data-stu-id="8d98c-112">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="8d98c-113">Du skal have tilladelse til at køre den pågældende rapport eller kodeenhed, ellers genereres der en fejl, når opgavekøen køres.</span><span class="sxs-lookup"><span data-stu-id="8d98c-113">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  
> [!IMPORTANT]  
> <span data-ttu-id="8d98c-114">Hvis du bruger tilladelsessættet SUPER, der følger med [!INCLUDE[prod_short](includes/prod_short.md)], har du og dine brugere tilladelse til at køre alle objekter inden for licensen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-114">If you use the SUPER permissions set that comes with [!INCLUDE[prod_short](includes/prod_short.md)], you and your users have permissions to run all objects within the license.</span></span> <span data-ttu-id="8d98c-115">Dette er stadig ikke tilstrækkeligt til delegeret administrator eller brugere med enhedslicens, som ikke kan oprette en opgavekø.</span><span class="sxs-lookup"><span data-stu-id="8d98c-115">That is still not enough for Delegated Admin or users with Device license, who cannot create job queue entires.</span></span>

<span data-ttu-id="8d98c-116">En opgavekø kan have mange poster, som er de opgaver, der administreres og køres i køen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-116">A job queue can have many entries, which are the jobs that the queue manages and runs.</span></span> <span data-ttu-id="8d98c-117">Oplysninger i posten angiver, hvilken codeunit eller rapport der køres, når og hvor ofte posten køres, i hvilken kategori opgaven kører, og hvordan den køres.</span><span class="sxs-lookup"><span data-stu-id="8d98c-117">Information in the entry specifies what codeunit or report is run, when and how often the entry is run, in what category the job runs, and how it runs.</span></span>  

<span data-ttu-id="8d98c-118">Når opgavekøer er konfigureret og kører, kan status ændres på følgende måde i hver gentagede periode:</span><span class="sxs-lookup"><span data-stu-id="8d98c-118">After job queues are set up and running, the status can change as follows within each recurring period:</span></span>

* <span data-ttu-id="8d98c-119">**Afvent**</span><span class="sxs-lookup"><span data-stu-id="8d98c-119">**On Hold**</span></span>  
* <span data-ttu-id="8d98c-120">**Klar**</span><span class="sxs-lookup"><span data-stu-id="8d98c-120">**Ready**</span></span>  
* <span data-ttu-id="8d98c-121">**Igangsat**</span><span class="sxs-lookup"><span data-stu-id="8d98c-121">**In Process**</span></span>  
* <span data-ttu-id="8d98c-122">**Fejl**</span><span class="sxs-lookup"><span data-stu-id="8d98c-122">**Error**</span></span>  
* <span data-ttu-id="8d98c-123">**Færdig**</span><span class="sxs-lookup"><span data-stu-id="8d98c-123">**Finished**</span></span>  

<span data-ttu-id="8d98c-124">Når en opgave er afsluttet korrekt, fjernes den fra listen over opgavekøposter, medmindre det er en tilbagevendende opgave.</span><span class="sxs-lookup"><span data-stu-id="8d98c-124">After a job has finished successfully, it is removed from the list of job queue entries unless it is a recurring job.</span></span> <span data-ttu-id="8d98c-125">Hvis det er en tilbagevendende opgave, justeres feltet **Tidligste starttidspunkt** og viser, næste gang opgaven forventes at køre.</span><span class="sxs-lookup"><span data-stu-id="8d98c-125">If it is a recurring job, the **Earliest Start Time** field is adjusted to show the next time that the job is expected to run.</span></span>  

## <a name="to-view-status-or-errors-in-the-job-queue"></a><span data-ttu-id="8d98c-126">Sådan får du vist status eller fejl i opgavekøen</span><span class="sxs-lookup"><span data-stu-id="8d98c-126">To view status or errors in the job queue</span></span>

<span data-ttu-id="8d98c-127">Data, der genereres, når der køres en opgavekø, gemmes i databasen, så du kan foretage fejlfinding i opgavekøen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-127">Data that is generated when a job queue is run is stored in the database, so that you can troubleshoot job queue errors.</span></span>  
<span data-ttu-id="8d98c-128">Du kan få vist og ændre status for hver opgavekøpost.</span><span class="sxs-lookup"><span data-stu-id="8d98c-128">For each job queue entry, you can view and change the status.</span></span> <span data-ttu-id="8d98c-129">Når du opretter en opgavekøpost, er dens status angivet til **Afvent**.</span><span class="sxs-lookup"><span data-stu-id="8d98c-129">When you create a job queue entry, its status is set to **On Hold**.</span></span> <span data-ttu-id="8d98c-130">Du kan angive status til f.eks. **Klar** og tilbage til **Afvent**.</span><span class="sxs-lookup"><span data-stu-id="8d98c-130">You can set the status to **Ready** and back to **On Hold**, for example.</span></span> <span data-ttu-id="8d98c-131">Ellers opdateres oplysninger om status i dette felt automatisk.</span><span class="sxs-lookup"><span data-stu-id="8d98c-131">Otherwise, status information is updated automatically.</span></span>

<span data-ttu-id="8d98c-132">I følgende tabel beskrives værdierne i feltet **Status**.</span><span class="sxs-lookup"><span data-stu-id="8d98c-132">The following table describes the values of the **Status** field.</span></span>

| <span data-ttu-id="8d98c-133">Status</span><span class="sxs-lookup"><span data-stu-id="8d98c-133">Status</span></span> | <span data-ttu-id="8d98c-134">Description</span><span class="sxs-lookup"><span data-stu-id="8d98c-134">Description</span></span> |
|--|--|
| <span data-ttu-id="8d98c-135">Klar</span><span class="sxs-lookup"><span data-stu-id="8d98c-135">Ready</span></span> | <span data-ttu-id="8d98c-136">Angiver, at opgavekøposten er klar til at blive kørt.</span><span class="sxs-lookup"><span data-stu-id="8d98c-136">Indicates that the job queue entry is ready to be run.</span></span> |
| <span data-ttu-id="8d98c-137">I arbejde</span><span class="sxs-lookup"><span data-stu-id="8d98c-137">In Process</span></span> | <span data-ttu-id="8d98c-138">Angiver, at opgavekøposten er i gang.</span><span class="sxs-lookup"><span data-stu-id="8d98c-138">Indicates that the job queue entry is in process.</span></span> <span data-ttu-id="8d98c-139">Feltet opdateres, mens opgavekøen kører.</span><span class="sxs-lookup"><span data-stu-id="8d98c-139">This field is updated while the job queue is running.</span></span> |
| <span data-ttu-id="8d98c-140">Afvent</span><span class="sxs-lookup"><span data-stu-id="8d98c-140">On Hold</span></span> | <span data-ttu-id="8d98c-141">Standard.</span><span class="sxs-lookup"><span data-stu-id="8d98c-141">Default.</span></span> <span data-ttu-id="8d98c-142">Angiver status for opgavekøposten, da den blev oprettet.</span><span class="sxs-lookup"><span data-stu-id="8d98c-142">Indicates the status of the job queue entry when it is created.</span></span> <span data-ttu-id="8d98c-143">Vælg **Angiv Status som Klar** for at ændre status til **Klar**.</span><span class="sxs-lookup"><span data-stu-id="8d98c-143">Choose the **Set Status to Ready** action to change the status to **Ready**.</span></span> <span data-ttu-id="8d98c-144">Vælg **Indstil som Afvent** eller **Afbryd** for at ændre status tilbage til **Afvent**.</span><span class="sxs-lookup"><span data-stu-id="8d98c-144">Choose the **Set On Hold** or **Suspend** actions to change the status back to **On Hold**.</span></span> |
| <span data-ttu-id="8d98c-145">Fejl</span><span class="sxs-lookup"><span data-stu-id="8d98c-145">Error</span></span> | <span data-ttu-id="8d98c-146">Angiver, at der er en fejl.</span><span class="sxs-lookup"><span data-stu-id="8d98c-146">Indicates that there is an error.</span></span> <span data-ttu-id="8d98c-147">Vælg **Vis fejl** for at se fejlmeddelelsen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-147">Choose **Show Error** to see the error message.</span></span> |
| <span data-ttu-id="8d98c-148">Udført</span><span class="sxs-lookup"><span data-stu-id="8d98c-148">Finished</span></span> | <span data-ttu-id="8d98c-149">Angiver, at opgavekøposten er fuldført.</span><span class="sxs-lookup"><span data-stu-id="8d98c-149">Indicates that the job queue entry is complete.</span></span> |

### <a name="to-view-status-for-any-job"></a><span data-ttu-id="8d98c-150">Sådan får du vist status for en opgave</span><span class="sxs-lookup"><span data-stu-id="8d98c-150">To view status for any job</span></span>
1. <span data-ttu-id="8d98c-151">Vælg ikonet ![Elpære, der åbner funktionen Fortæl mig](media/ui-search/search_small.png "Fortæl mig, hvad du vil foretage dig"), angiv **Opgavekøposter**, og vælg derefter det relaterede link.</span><span class="sxs-lookup"><span data-stu-id="8d98c-151">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>
2. <span data-ttu-id="8d98c-152">På siden **Opgavekøposter** skal du vælge en opgavekøpost og derefter vælge **Logposter**-handlingen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-152">On the **Job Queue Entries** page, select a job queue entry, and then choose the **Log Entries** action.</span></span>  

> [!TIP]
> <span data-ttu-id="8d98c-153">Med [!INCLUDE [prod_short](includes/prod_short.md)] online kan du også få vist status for opgavekøposter ved hjælp af Application Insights i Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="8d98c-153">With [!INCLUDE [prod_short](includes/prod_short.md)] online, you can also view the status of job queue entries by using Application Insights in Microsoft Azure.</span></span> <span data-ttu-id="8d98c-154">Du kan finde flere oplysninger i analyse af funktionen [Analyse af Job Queue Lifecycle Trace Telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-job-queue-lifecycle-trace) i [!INCLUDE [prod_short](includes/prod_short.md)] Developer and Administration-indhold.</span><span class="sxs-lookup"><span data-stu-id="8d98c-154">For more information, see [Analyzing Job Queue Lifecycle Trace Telemetry](/dynamics365/business-central/dev-itpro/administration/telemetry-job-queue-lifecycle-trace) in the [!INCLUDE [prod_short](includes/prod_short.md)] Developer and Administration content.</span></span>

## <a name="the-my-job-queue-part"></a><span data-ttu-id="8d98c-155">Delen Min opgavekø</span><span class="sxs-lookup"><span data-stu-id="8d98c-155">The My Job Queue Part</span></span>
<span data-ttu-id="8d98c-156">Delen **Min opgavekø** i dit rollecenter viser de poster i opgavekøen, som du har startet, men som ikke er færdige endnu.</span><span class="sxs-lookup"><span data-stu-id="8d98c-156">The **My Job Queue** part on your Role Center shows the job queues entries that you have started, but which are not yet finished.</span></span> <span data-ttu-id="8d98c-157">Som standard er delen ikke synlig, så du skal føje den til dit rollecenter.</span><span class="sxs-lookup"><span data-stu-id="8d98c-157">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="8d98c-158">Du kan finde flere oplysninger under [Tilpasse dit arbejdsområde](ui-personalization-user.md).</span><span class="sxs-lookup"><span data-stu-id="8d98c-158">For more information, see [Personalize Your Workspace](ui-personalization-user.md).</span></span>  

<span data-ttu-id="8d98c-159">I denne del kan du se, hvilke dokumenter med dit id i feltet **Tildelt bruger-id**, der behandles, eller som er i kø, herunder dem, der er relateret til baggrundsbogføring.</span><span class="sxs-lookup"><span data-stu-id="8d98c-159">The part shows which documents with your ID in the **Assigned User ID** field are being processed or are queued, including those related to background posting.</span></span> <span data-ttu-id="8d98c-160">Denne del kan give dig et overblik over, om der er opstået en fejl i bogføringen af et dokument, eller om der er fejl i en opgavekøpost.</span><span class="sxs-lookup"><span data-stu-id="8d98c-160">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="8d98c-161">Delen giver dig også mulighed for at annullere bogføringen af et dokument, hvis det ikke kører.</span><span class="sxs-lookup"><span data-stu-id="8d98c-161">The part also lets you cancel a document posting if it is not running.</span></span>

### <a name="to-view-an-error-from-the-my-job-queue-part"></a><span data-ttu-id="8d98c-162">Se en fejl fra Min opgavekø</span><span class="sxs-lookup"><span data-stu-id="8d98c-162">To view an error from the My Job Queue part</span></span>
1. <span data-ttu-id="8d98c-163">I en post med status **Fejl** skal du vælge **Vis fejl**-handlingen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-163">On an entry with the status **Error**, choose the **Show Error** action.</span></span>
2. <span data-ttu-id="8d98c-164">Gennemgå fejlmeddelelsen, og løs problemet.</span><span class="sxs-lookup"><span data-stu-id="8d98c-164">Review the error message and fix the problem.</span></span>


## <a name="examples-of-what-can-be-scheduled-using-job-queue"></a><span data-ttu-id="8d98c-165">Eksempler på, hvad der kan planlægges med jobkø</span><span class="sxs-lookup"><span data-stu-id="8d98c-165">Examples of what can be scheduled using job queue</span></span>

### <a name="schedule-reports"></a><span data-ttu-id="8d98c-166">Planlæg rapporter</span><span class="sxs-lookup"><span data-stu-id="8d98c-166">Schedule reports</span></span>

<span data-ttu-id="8d98c-167">Du kan planlægge kørsel af en rapport eller et batchjob på en bestemt dato og et bestemt klokkeslæt.</span><span class="sxs-lookup"><span data-stu-id="8d98c-167">You can schedule a report or batch job to run at a specific date and time.</span></span> <span data-ttu-id="8d98c-168">Planlagte rapporter og kørsler indsættes i jobkøen og behandles på det planlagte tidspunkt, ligesom andre job.</span><span class="sxs-lookup"><span data-stu-id="8d98c-168">Scheduled reports and batch jobs are entered in the job queue and processed at the scheduled time, similar to other jobs.</span></span> <span data-ttu-id="8d98c-169">Du vælger indstillingen **Skema**, når du har valgt knappen **Send til**, og derefter angiver du oplysninger som f.eks. printer og klokkeslæt og dato, gentagelse.</span><span class="sxs-lookup"><span data-stu-id="8d98c-169">You choose the **Schedule** option after you choose the **Send to** action, and then you enter information such as printer, time and date, recurrence.</span></span>  

<span data-ttu-id="8d98c-170">Du kan få flere oplysninger [Planlægge en rapport til kørsel](ui-work-report.md#ScheduleReport).</span><span class="sxs-lookup"><span data-stu-id="8d98c-170">For more information, see [Scheduling a Report to Run](ui-work-report.md#ScheduleReport)</span></span>

### <a name="schedule-synchronization-between-prod_short-and-prod_short"></a><span data-ttu-id="8d98c-171">Planlæg synkronisering mellem [!INCLUDE[prod_short](includes/prod_short.md)] og [!INCLUDE[prod_short](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="8d98c-171">Schedule synchronization between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[prod_short](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="8d98c-172">Hvis du har integreret [!INCLUDE[prod_short](includes/prod_short.md)] med [!INCLUDE[prod_short](includes/cds_long_md.md)], kan du bruge opgavekøen til at planlægge, hvornår du vil synkronisere data for de poster, du har kombineret i de to forretningsapps.</span><span class="sxs-lookup"><span data-stu-id="8d98c-172">If you have integrated [!INCLUDE[prod_short](includes/prod_short.md)] with [!INCLUDE[prod_short](includes/cds_long_md.md)], you can use the job queue to schedule when you want to synchronize data for the records that you have coupled in the two business apps.</span></span> <span data-ttu-id="8d98c-173">Afhængigt af den retning og de regler, du har defineret for integrationen, kan synkroniseringsopgaverne også oprette nye poster i destinationsappen, så de svarer til dem i kilden.</span><span class="sxs-lookup"><span data-stu-id="8d98c-173">Depending on the direction and rules that you have defined for the integration, the synchronization jobs can also create new records in the destination app to match those in the source.</span></span> <span data-ttu-id="8d98c-174">Hvis en sælger f.eks. opretter en ny kontakt i [!INCLUDE[crm_md](includes/crm_md.md)], kan synkroniseringsopgaven oprette kontakten for den sammenkoblede sælger i [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="8d98c-174">For example, if a salesperson creates a new contact in [!INCLUDE[crm_md](includes/crm_md.md)], the synchronization job can create that contact for the coupled salesperson in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="8d98c-175">Du kan finde flere oplysninger under [Planlægning af synkronisering mellem Business Central og Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span><span class="sxs-lookup"><span data-stu-id="8d98c-175">For more information, see [Scheduling a Synchronization between Business Central and Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span></span>

### <a name="schedule-the-posting-of-sales-and-purchase-orders"></a><span data-ttu-id="8d98c-176">Planlægge bogføring af salgs-og købsordrer</span><span class="sxs-lookup"><span data-stu-id="8d98c-176">Schedule the posting of sales and purchase orders</span></span>

<span data-ttu-id="8d98c-177">Opgavekøer er et effektivt værktøj til planlægning af kørsel af forretningsprocesser i baggrunden, f.eks. når mange brugere prøver at bogføre salgsordrer, men kun én ordre kan behandles ad gangen.</span><span class="sxs-lookup"><span data-stu-id="8d98c-177">Job queues are an effective tool to schedule the running of business processes in the background, such as when multiple users are trying to post sales orders, but only one order can be processed at a time.</span></span>  

<span data-ttu-id="8d98c-178">Du kan finde flere oplysninger i [Sådan konfigureres baggrundsbogføring med opgavekøer](ui-batch-posting.md#to-set-up-background-posting-with-job-queues).</span><span class="sxs-lookup"><span data-stu-id="8d98c-178">For more information, see [To set up background posting with job queues](ui-batch-posting.md#to-set-up-background-posting-with-job-queues)</span></span>

## <a name="see-also"></a><span data-ttu-id="8d98c-179">Se også</span><span class="sxs-lookup"><span data-stu-id="8d98c-179">See Also</span></span>

[<span data-ttu-id="8d98c-180">Opsætning</span><span class="sxs-lookup"><span data-stu-id="8d98c-180">Administration</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="8d98c-181">Konfigurere Business Central</span><span class="sxs-lookup"><span data-stu-id="8d98c-181">Setting Up Business Central</span></span>](setup.md)  
[<span data-ttu-id="8d98c-182">Ændre grundlæggende indstillinger</span><span class="sxs-lookup"><span data-stu-id="8d98c-182">Change Basic Settings</span></span>](ui-change-basic-settings.md)  
[<span data-ttu-id="8d98c-183">Analysere Job Queue Lifecycle Trace Telemetry</span><span class="sxs-lookup"><span data-stu-id="8d98c-183">Analyzing Job Queue Lifecycle Trace Telemetry</span></span>](/dynamics365/business-central/dev-itpro/administration/telemetry-job-queue-lifecycle-trace)  


[!INCLUDE[footer-include](includes/footer-banner.md)]